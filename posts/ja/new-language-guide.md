---
title: 'ブログシステムに新しい言語サポートを追加する方法'
postId: 'How to add language support to a blog system'
date: '2025-07-06'
author: 'フルスタックエンジニア'
description: 'このガイドでは、Next.jsブログシステムに新しい言語サポートを追加するための簡略化された手順を詳しく説明します。'
tags: ['ガイド', '多言語', '設定', '開発']
---

# ブログシステムに新しい言語サポートを追加する方法

このガイドでは、Next.jsブログシステムに新しい言語サポートを追加する方法を詳しく説明します。これまでに実装した最適化により、プロセス全体が大幅に簡素化されました。以下の主要な手順にのみ焦点を当てる必要があります。

## 1. コア設定ファイル (`src/lib/config.ts`) を更新する

これは新しい言語を追加するための最初で最も重要なステップです。このファイルで新しい言語を宣言し、いくつかのコアコンテンツの翻訳を提供する必要があります。

1. **ファイルを開く**: `src/lib/config.ts` に移動します。
2. **`language.locales` を変更する**: `appConfig.language.locales` 配列に、追加する新しい言語コード（例：ドイツ語を追加する場合は `'de'`）を追加します。言語コードは小文字であることを確認してください。

```javascript
   // 例：ドイツ語 'de' の追加
   language: {
     locales: ['en', 'zh', 'ja', 'de'], // ここに新しい言語コードを追加します
     defaultLocale: 'zh',
     // ...
   },
```

3. **`homePage.title` を更新する**: 新しい言語のホームページのメインタイトルを追加します。

```javascript
   // 例：ドイツ語タイトルの追加
   homePage: {
     title: {
       zh: '私の個人ブログ',
       en: 'My Personal Blog',
       ja: '私の個人ブログ',
       de: 'Mein Persönlicher Blog', // 新しいドイツ語タイトルを追加
     },
     // ...
   },
```

4. **`homePage.subtitles` を更新する**: 新しい言語のホームページのサブタイトル（タイピング効果）の配列を追加します。

```javascript
   // 例：ドイツ語サブタイトルの追加
   homePage: {
     // ...
     subtitles: {
       zh: [/* ... */],
       en: [/* ... */],
       ja: [/* ... */],
       de: [ // 新しいドイツ語サブタイトル配列を追加
         'Meine Gedanken, Technologie und mein Leben teilen.',
         'Code verändert die Welt, Ideen erhellen die Zukunft.',
         'Bleiben Sie neugierig, lernen Sie weiter.',
       ],
     },
   },
```

5. **`language.languageLabels` を更新する**: 言語スイッチャーで新しい言語の表示名を追加します。

```javascript
   // 例：ドイツ語表示名の追加
   language: {
     // ...
     languageLabels: {
       en: 'English',
       zh: '簡体中文',
       ja: '日本語',
       de: 'Deutsch', // 新しいドイツ語表示名を追加
     },
   },
```

## 2. 新しい言語辞書ファイルを作成する (`src/locales/{新しい言語コード}.json`)

このファイルには、ブログのインターフェース内のすべてのテキストの翻訳が含まれます。

1. **既存の辞書をコピーする**: `src/locales/` ディレクトリに移動します。既存の言語ファイル（例：`en.json`）をコピーし、新しい言語コード（例：`de.json`）に名前を変更します。
2. **コンテンツを翻訳する**: 新しく作成した `de.json` ファイルを開き、すべてのテキスト値をドイツ語に翻訳します。
   - **重要**: `language_switcher` セクションには `label` キーのみが必要であることに注意してください。これは、特定の言語名（例：「English」、「簡体中文」）が `src/lib/config.ts` の `languageLabels` から直接取得されるため、各辞書ファイルで再定義する必要がないためです。

   ```json
   // src/locales/de.json 構造例
   {
     "header": {
       "tags": "タグ",
       "source_code": "ソースコード",
       "toggle_theme": "テーマを切り替える",
       "language_switcher_label": "言語"
     },
     "footer": {
       "copyright": "© {year} 私のNext.jsブログ。すべての権利を保有。"
     },
     // ... その他の翻訳コンテンツ
     "language_switcher": {
       "label": "言語" // これだけが必要です。特定の言語名はconfig.tsから取得されます
     }
     // ...
   }
   ```

## 3. 新しい記事言語ディレクトリを作成する (`posts/{新しい言語コード}/`)

このディレクトリには、新しい言語のすべての記事が保存されます。

1. **ディレクトリを作成する**: `posts/` ディレクトリに移動します。
2. **新しいフォルダを追加する**: 新しい言語コードと同じ名前の新しいフォルダ（例：`de/`）を作成します。

## 4. 新しい言語でブログ記事を追加する (`posts/{新しい言語コード}/{あなたの記事}.md`)

これで、新しい言語でブログ記事を書き始めることができます！

1. **記事を書く**: `posts/de/` ディレクトリに、Markdown形式のブログ記事ファイル（例：`my-first-german-post.md`）を作成します。
2. **Frontmatter**: 記事に正しい `frontmatter` が含まれていることを確認してください。特に、`lang` フィールドは新しい言語コードに設定する必要があります。**最も重要なのは、`postId` フィールドが存在し、同じ記事の他の翻訳バージョンと一貫している必要があることです。これにより、システムは翻訳を正しくリンクできます。**

```markdown
---
title: '私の最初のドイツ語記事'
postId: 'my-first-post' # 👈 重要：ここにpostIdがあり、同じ記事の他の翻訳バージョンと一貫していることを確認してください！
date: '2025-07-06'
author: 'あなたの名前'
description: 'これはブログにドイツ語を追加することに関するテスト記事です。'
tags: ['ドイツ語', 'テスト']
lang: 'de' # ここが新しい言語コードであることを確認してください
---

# これは私の最初のドイツ語記事です！

記事本文のコンテンツ...
```

## 5. プロジェクトを実行または再構築する

すべてのファイルの変更と作成が完了したら、開発サーバーを再起動するか、プロジェクトを再構築して、Next.jsが新しい言語ファイルと設定を認識して処理できるようにする必要があります。

- **開発モード**: `pnpm dev` または `npm run dev`
- **本番ビルド**: `pnpm build` または `npm run build`

これらの手順が完了すると、ブログシステムに新しい言語サポートが正常に追加され、ユーザーは言語スイッチャーで新しい言語を選択し、対応するインターフェースや記事を閲覧できるようになります！
